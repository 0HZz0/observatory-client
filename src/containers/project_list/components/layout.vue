<template>
  <div class="container pt-4">
    <h3>Active Projects</h3>
    <ProjectSearch/>
  	<div class="row">
      <div class="col-lg-9">

  			<ul class="list-group mt-2 mb-4 text-center">
  				<a class="list-group-item" href="/#/projects/new">NEW</a>
  			</ul>

  			<ListView :todos="todos"></ListView>

        <p>{{ count }}</p>
        <button @click="increment()" class="btn btn-outline-primary">Increment</button>
        <button @click="decrement()" class="btn btn-outline-primary">Decrement</button>
  		</div>
      <ProjectPinned/>
  	</div>
  </div>
</template>

<!-- // // // //  -->

<script>
import ListView from './list.vue'
import store from '@/store'
import ProjectSearch from './search.vue'
import ProjectPinned from './pinned.vue'

export default {
  name: 'layout',
  computed: {
    count: () => {
      return store.getters['project/count']
    },

    todos: () => {
      console.log(store)
      return store.getters['project/todos']
    }
  },
  methods: {
    increment: () => {
      // return store.commit('project/increment')
      return store.dispatch('project/incrementAsync')
    },
    decrement: () => {
      return store.commit('project/decrement')
    }
  },
  components: {
    ListView,
    ProjectSearch,
    ProjectPinned
  }
}
</script>


